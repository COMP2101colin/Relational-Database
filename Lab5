DROP TABLE IF EXISTS STUDENT_INFO;
SET SQL_SAFE_UPDATES = 0;



/*
 Question 1
 
Write a CREATE table statement that has a PRIMARY KEY column and have that column auto generate a value on INSERT ( 5 marks )
 
*/

CREATE TABLE STUDENT_INFO(
STUDENT_ID     INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
FIRST_NAME     VARCHAR(20) NOT NULL,
LAST_NAME      VARCHAR(30) NOT NULL,
FINALGRADE     NUMERIC(5) NOT NULL,
NAMEOFCOURSE   CHAR(50) NOT NULL
);



/*
 Question 2
 
 Write 5 INSERT statements that add data to the table from Question 1 but doesn't include the PRIMARY KEY to test the auto numbering ( 5 marks )
 
*/
INSERT INTO STUDENT_INFO (FIRST_NAME, LAST_NAME, FINALGRADE, NAMEOFCOURSE) VALUES ('MICHAEL','HARRIS','76','BUSINESS ANALYSIS');
INSERT INTO STUDENT_INFO (FIRST_NAME, LAST_NAME, FINALGRADE, NAMEOFCOURSE) VALUES ('RYAN','JACOBSON','81','COMPUTER PROGRAMMING');
INSERT INTO STUDENT_INFO (FIRST_NAME, LAST_NAME, FINALGRADE, NAMEOFCOURSE) VALUES ('CODY','RHODES','64','FOOD SCIENCE');
INSERT INTO STUDENT_INFO (FIRST_NAME, LAST_NAME, FINALGRADE, NAMEOFCOURSE) VALUES ('MATT','RIDDLE','92','HEALTH & FITNESS');
INSERT INTO STUDENT_INFO (FIRST_NAME, LAST_NAME, FINALGRADE, NAMEOFCOURSE) VALUES ('ADAM','GILCHRIST','68','NURSING');
SELECT * FROM STUDENT_INFO;
/*
 Question 3
 
 Write an ALTER statment to add a date column to the table from Question 1 and set a default of January 1 2020 ( 7 marks )
 
*/

ALTER TABLE STUDENT_INFO
ADD COLUMN GRADUATION_DAY DATE NOT NULL DEFAULT '2020-01-01';
SELECT * FROM STUDENT_INFO;
/*
 Question 4
 
 Write an ALTER statment to remove the date column you just added to your table (7 marks)
 
 
*/
ALTER TABLE STUDENT_INFO
DROP COLUMN GRADUATION_DAY;
SELECT * FROM STUDENT_INFO;
/*
 Question 5
 
  Write a single ALTER statment to modify the name and datatype of two of your columns in your table from Question 1   ( 8 marks )
 
  
 */
 
 ALTER TABLE STUDENT_INFO
 CHANGE COLUMN FINALGRADE FINAL_GRADE DEC(4) NOT NULL,
 CHANGE COLUMN NAMEOFCOURSE NAME_OF_COURSE VARCHAR (30) NOT NULL;
 SELECT * FROM STUDENT_INFO;

/*
 Question 6
 
  Write a single ALTER statment to add two columns to your table from Question 1, the first column needs a DEFAULT value, the second column needs to be put in between your first and second column of the table ( 8 marks )
 
   
 */
ALTER TABLE STUDENT_INFO
ADD COLUMN LIBRARY_FEES NUMERIC(5,2) NOT NULL DEFAULT 90.57,
ADD COLUMN CONTACT_NUMBER CHAR(10) NOT NULL AFTER STUDENT_ID;
 SELECT * FROM STUDENT_INFO;
/*
 Question 7
 
  Write a CREATE table statment that has an ID column (with a PRIMARY KEY and an AUTO generating number) and a description column.   
  ALTER the table from Question 1 to have that ID column added to it and make a FOREIGN KEY reference 
  INSERT records into the new table AND UPDATE the table from Question 1 with the new ID fields
  ( 10 marks )

 
 */
 CREATE TABLE STUDENT_COURSE (
 COURSE_ID 			INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,
 NAME_OF_COURSE 	CHAR(40) NOT NULL,
 COURSE_LENGTH		VARCHAR(100) NOT NULL,
 COURSE_DESCRIPTION VARCHAR(50) NOT NULL
 );
 ALTER TABLE STUDENT_INFO 
 ADD COLUMN COURSE_ID 	NUMERIC(10);
 
ALTER TABLE STUDENT_COURSE
ADD FOREIGN KEY (COURSE_ID) REFERENCES STUDENT_INFO(COURSE_ID);
 
INSERT INTO STUDENT_COURSE (NAME_OF_COURSE, COURSE_LENGTH, COURSE_DESCRIPTION) VALUES ('BUSINESS ANALYSIS', '2 YEARS', 'FUTURE BUSINESS STRATEGIES');
INSERT INTO STUDENT_COURSE (NAME_OF_COURSE, COURSE_LENGTH, COURSE_DESCRIPTION) VALUES ('COMPUTER PROGRAMMING', '4 YEARS', 'COMPUTER LANGUAGES & CODING');
INSERT INTO STUDENT_COURSE (NAME_OF_COURSE, COURSE_LENGTH, COURSE_DESCRIPTION) VALUES ('FOOD SCIENCE', '3 YEARS', 'BIOCHEMISTRY RELATED TO FOOD');
INSERT INTO STUDENT_COURSE (NAME_OF_COURSE, COURSE_LENGTH, COURSE_DESCRIPTION) VALUES ('HEALTH & FITNESS', '1 YEAR', 'HEALTHY & FIT LIFE OF HUMANS ');
INSERT INTO STUDENT_COURSE (NAME_OF_COURSE, COURSE_LENGTH, COURSE_DESCRIPTION) VALUES ('NURSING', '4 YEARS', 'BIOLOGY OF HUMAN BODY');
 
UPDATE STUDENT_INFO
SET STUDENT_ID = COURSE_ID
WHERE STUDENT_ID IS NOT NULL;
